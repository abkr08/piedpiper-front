{"map":"{\"version\":3,\"sources\":[\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/Axios.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/store/actions/actionCreators/authActionCreators.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/store/actions/actions.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/pusherConfig.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/store/actions/actionCreators/callActionCreators.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Input/Input.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/shared/utility.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Button/Button.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/Auth/Register/Register.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/Auth/Login/Login.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/Auth/Logout/Logout.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Navigation/Navbar.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/PiperChat/Contact.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/PiperChat/Chat.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/SideDrawer/JoinableRooms/JoinableRoom/JoinableRoom.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/SideDrawer/JoinableRooms/JoinableRooms.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/SideDrawer/SideDrawer.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Backdrop/Backdrop.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/Modal/Modal.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/Call/Call.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/ChatScreenBar/ChatScreenBar.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Spinner/Spinner.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/PiperChat/ChatScreen.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/App.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/serviceWorker.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/store/reducers/authReducer.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/store/reducers/callReducer.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/src/index.js\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Navigation/Navbar.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/PiperChat/ChatScreen.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/SideDrawer/SideDrawer.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Input/Input.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/PiperChat/Chat.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/Call/Call.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Button/Button.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/PiperChat/Contact.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/ChatScreenBar/ChatScreenBar.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/Auth/Register/Register.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/Auth/Login/Login.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/url-loader/dist/cjs.js??ref--6-oneOf-0!/Users/gotzil/Desktop/Pied Piper Chat/client/src/images/p37605.png\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/SideDrawer/JoinableRooms/JoinableRoom/JoinableRoom.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/containers/Modal/Modal.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Backdrop/Backdrop.module.css\",\"/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-4-0!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/css-loader/index.js??ref--6-oneOf-4-1!/Users/gotzil/Desktop/Pied Piper Chat/client/node_modules/postcss-loader/src/index.js??postcss!/Users/gotzil/Desktop/Pied Piper Chat/client/src/components/UI/Spinner/Spinner.module.css\"],\"names\":[\"instance\",\"axios\",\"create\",\"baseURL\",\"checkTokenValidity\",\"expiresIn\",\"dispatch\",\"setTimeout\",\"logout\",\"logInFailed\",\"err\",\"type\",\"error\",\"user\",\"localStorage\",\"getItem\",\"token\",\"console\",\"log\",\"store\",\"room\",\"sdp\",\"callType\",\"channel\",\"Pusher\",\"cluster\",\"forceTLS\",\"authEndpoint\",\"auth\",\"params\",\"headers\",\"x-auth-token\",\"subscribe\",\"caller\",\"window\",\"RTCPeerConnection\",\"iceServers\",\"urls\",\"userId\",\"state\",\"bind\",\"members\",\"member\",\"id\",\"alert\",\"msg\",\"addIceCandidate\",\"RTCIceCandidate\",\"candidate\",\"confirm\",\"concat\",\"from\",\"trigger\",\"rejected\",\"getCam\",\"answer\",\"sessionDesc\",\"RTCSessionDescription\",\"setRemoteDescription\",\"getMedia\",\"then\",\"stream\",\"onLocalStream\",\"getTracks\",\"forEach\",\"track\",\"addTrack\",\"createAnswer\",\"createOffer\",\"catch\",\"navigator\",\"mediaDevices\",\"getUserMedia\",\"video\",\"width\",\"height\",\"frameRate\",\"audio\",\"onTrack\",\"remoteStream\",\"streams\",\"iceCandidate\",\"onIceCandidate\",\"peer\",\"evt\",\"setLocalDescription\",\"offerToReceiveVideo\",\"desc\",\"input\",\"props\",\"inputElement\",\"inputClasses\",\"classes\",\"InputElement\",\"invalid\",\"shouldValidate\",\"touched\",\"push\",\"Invalid\",\"elementType\",\"react_default\",\"a\",\"createElement\",\"Object\",\"assign\",\"className\",\"join\",\"elementConfig\",\"value\",\"onChange\",\"changed\",\"options\",\"map\",\"option\",\"key\",\"displayValue\",\"Input\",\"Label\",\"label\",\"updateObject\",\"oldObject\",\"updatedProperties\",\"objectSpread\",\"checkValidity\",\"rules\",\"isValid\",\"required\",\"trim\",\"minLength\",\"length\",\"maxLength\",\"isEmail\",\"test\",\"isNumeric\",\"button\",\"onClick\",\"clicked\",\"disabled\",\"Button\",\"btnType\",\"children\",\"Register\",\"controls\",\"name\",\"placeholder\",\"validation\",\"valid\",\"email\",\"username\",\"password\",\"password2\",\"isEqual\",\"formIsValid\",\"event\",\"inputIdentifier\",\"target\",\"updatedFormElement\",\"_this\",\"updatedForm\",\"defineProperty\",\"setState\",\"onSubmit\",\"preventDefault\",\"_this$state$controls\",\"data\",\"control\",\"onRegister\",\"this\",\"registrationSuccess\",\"history\",\"_this2\",\"formElements\",\"config\",\"form\",\"formElement\",\"RegisterBox\",\"Component\",\"connect\",\"post\",\"res\",\"registrationFailed\",\"actionCreators\",\"Login\",\"e\",\"onLogIn\",\"redirect\",\"isLoggedIn\",\"Redirect\",\"to\",\"_res$data\",\"expirationDate\",\"Date\",\"getTime\",\"setItem\",\"logInSuccess\",\"Logout\",\"removeItem\",\"Navbar\",\"displayedElements\",\"Link\",\"NavItem\",\"Brand\",\"data-text\",\"contact\",\"attachedClasses\",\"Contact\",\"Active\",\"src\",\"img\",\"alt\",\"lastMessage\",\"chat\",\"Chat\",\"byCurrentUser\",\"ByCurrentUser\",\"Sender\",\"sender\",\"Text\",\"text\",\"joinableRoom\",\"JoinableRoom\",\"groupImage\",\"joinableRooms\",\"Fragment\",\"i\",\"SideDrawer\",\"showCreateForm\",\"showNewChatForm\",\"groupName\",\"participants\",\"potentialParticipants\",\"newGroupChatParticipants\",\"privateChatParticipant\",\"ShowJoinableRoomsList\",\"createNewGroupHandler\",\"rooms\",\"filter\",\"u\",\"isPrivate\",\"chatParticipants\",\"pp\",\"prevState\",\"onCreateNewGroup\",\"obj\",\"keys\",\"j\",\"createRoom\",\"private\",\"addUserIds\",\"customData\",\"foo\",\"startNewChatHandler\",\"onStartNewChat\",\"get\",\"displayImage\",\"avatar\",\"joinGroup\",\"getJoinableRooms\",\"onPPChange\",\"_event$target\",\"checked\",\"groupParticipants\",\"Close\",\"show\",\"Open\",\"style\",\"display\",\"PP\",\"htmlFor\",\"RoomsList\",\"JoinableRooms\",\"backdrop\",\"Backdrop\",\"Modal\",\"modal\",\"backdropClicked\",\"Call\",\"endCall\",\"undefined\",\"_iteratorNormalCompletion\",\"_didIteratorError\",\"_iteratorError\",\"_step\",\"_iterator\",\"localUserMedia\",\"Symbol\",\"iterator\",\"next\",\"done\",\"stop\",\"return\",\"toggleEndCallButton\",\"endCurrentCall\",\"callUser\",\"callTo\",\"localVideoRef\",\"srcObject\",\"localStream\",\"remoteVideoRef\",\"localAudioRef\",\"remoteAudioRef\",\"_this3\",\"call\",\"autoPlay\",\"muted\",\"LocalVideo\",\"ref\",\"lVid\",\"remoteVideo\",\"rVid\",\"Type\",\"callActionCreators\",\"ChatScreenBar\",\"showModal\",\"isVideo\",\"onVideoCallInit\",\"onVoiceCallInit\",\"FA\",\"containers_Modal_Modal\",\"containers_Call_Call\",\"spinner\",\"Spinner\",\"ChatScreen\",\"contacts\",\"messages\",\"showSideDrawer\",\"scrollToBottom\",\"scrollRef\",\"scrollIntoView\",\"getRooms\",\"currentUser\",\"con\",\"subscribeToRoom\",\"roomId\",\"hooks\",\"onMessage\",\"message\",\"getMessages\",\"messageLimit\",\"fetchMessages\",\"direction\",\"limit\",\"sendMessage\",\"toggleSideDrawer\",\"ChatManager\",\"instanceLocator\",\"tokenProvider\",\"TokenProvider\",\"url\",\"onAddedToRoom\",\"getCallerReady\",\"components_ChatScreenBar_ChatScreenBar\",\"Msgs\",\"div\",\"senderId\",\"ContactsPane\",\"UI_SideDrawer_SideDrawer\",\"MenuBar\",\"textAlign\",\"onicecandidate\",\"ontrack\",\"App\",\"onAuth\",\"chatScreen\",\"incomingCall\",\"PiperChat_ChatScreen\",\"Navigation_Navbar\",\"Switch\",\"Route\",\"path\",\"component\",\"withRouter\",\"authSuccess\",\"Boolean\",\"location\",\"hostname\",\"match\",\"initialState\",\"authReducer\",\"arguments\",\"action\",\"callReducer\",\"__webpack_require__\",\"d\",\"__webpack_exports__\",\"composeEnhancers\",\"__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\",\"compose\",\"rootReducer\",\"combineReducers\",\"createStore\",\"applyMiddleware\",\"thunk\",\"ReactDOM\",\"render\",\"es\",\"BrowserRouter\",\"src_App_0\",\"document\",\"getElementById\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\",\"module\",\"exports\",\"navIcon\",\"fa\",\"RemoteVideo\",\"Success\",\"Danger\",\"registerBox\",\"p\"],\"mappings\":\"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\",\"sourcesContent\":[\"import axios from 'axios';\\n\\nconst instance = axios.create({\\n    baseURL: 'https://piedpiperchat.herokuapp.com/', //'http://localhost:8080/' //'https://192.168.1.39:8443'\\n});\\n\\n\\nexport default instance;\",\"import * as actionTypes from '../actions';\\nimport axios from '../../../Axios';\\n\\nconst logInSuccess = (token, userId) => {\\n    return {\\n        type: actionTypes.LOG_IN,\\n        token: token, \\n        userId: userId\\n    }\\n}\\nconst checkTokenValidity = expiresIn => {\\n    return dispatch => {\\n        setTimeout(() => {\\n            dispatch(logout());\\n        }, expiresIn * 1000);\\n    }\\n}\\nexport const onLogIn = (data) => {\\n    return dispatch => {\\n        axios.post(\\\"/login\\\", data)\\n         .then(res => {\\n           const { userId, token, expiresIn } = res.data;\\n           const expirationDate = new Date (new Date().getTime() + expiresIn * 1000);\\n           localStorage.setItem(\\\"token\\\", token);\\n           localStorage.setItem(\\\"userId\\\", userId);\\n           localStorage.setItem(\\\"expiresIn\\\", expirationDate);\\n           dispatch(logInSuccess(res.data.token, userId));\\n           dispatch(checkTokenValidity(expiresIn));\\n         })\\n         .catch(err => {\\n             dispatch(logInFailed(err))\\n         })\\n    }\\n}\\nconst logInFailed = err => {\\n    return {\\n        type: actionTypes.LOG_IN_FAILED,\\n        error: err \\n    }\\n}\\nconst logout = () => {\\n    return {\\n        type: actionTypes.LOG_OUT\\n    }\\n}\\n\\nexport const onLogout = () => {\\n    return dispatch => {\\n        //delete token saved in local storage\\n        localStorage.removeItem(\\\"token\\\");\\n        localStorage.removeItem(\\\"userId\\\");\\n        localStorage.removeItem(\\\"expiresIn\\\");\\n        dispatch(logout());\\n    }\\n}\\n\\nconst authSuccess = (token, userId) => {\\n    return {\\n        type: actionTypes.ON_AUTH,\\n        token: token,\\n        userId: userId\\n    }\\n}\\nexport const checkAuthState = () => {\\n    return dispatch => {\\n        let token = localStorage.getItem('token');\\n        if (!token) {\\n            dispatch(logout());\\n        } else {\\n            const expirationDate = new Date (localStorage.getItem('expiresIn'));\\n            if (expirationDate <= new Date()){\\n                dispatch(logout)\\n            } else {\\n                const userId = localStorage.getItem('userId');\\n                dispatch(authSuccess(token, userId));\\n                dispatch(checkTokenValidity((expirationDate.getTime() - new Date().getTime()) / 1000 ));\\n            \\n            }\\n        }\\n    }\\n}\\nconst registered = () => {\\n    return {\\n        type: actionTypes.ON_REGISTER,\\n        \\n    }\\n}\\nconst registrationFailed = err => {\\n    return {\\n        type: actionTypes.ON_REGISTRATION_FAILED,\\n        error: err\\n    }\\n}\\nexport const onRegister = data => {\\n    console.log(data);\\n    return dispatch => {\\n        axios.post(\\\"/register\\\", data)\\n            .then(res => {\\n                dispatch(registered())\\n            })\\n            .catch(err => {\\n                dispatch(registrationFailed(err))\\n            });\\n    }\\n}\",\"export const LOG_IN = \\\"LOG_IN\\\";\\nexport const LOG_OUT = \\\"LOG_OUT\\\";\\nexport const LOG_IN_FAILED = \\\"LOG_IN_FAILED\\\";\\nexport const ON_AUTH = \\\"ON_AUTH\\\";\\nexport const ON_REGISTER = \\\"ON_REGISTER\\\";\\nexport const ON_REGISTRATION_FAILED = 'ON_REGISTRATION_FAILED';\\n\\nexport const PREPARE_CALLER = 'PREPARE_CALLER';\\nexport const ON_TRACK = 'ON_TRACK';\\nexport const ON_LOCAL_STREAM = 'ON_LOCAL_STREAM';\\nexport const ON_INCOMING_CALL = 'ON_INCOMING_CALL';\\n\",\"import Pusher from 'pusher-js';\\nimport { store } from './index';\\n\\nconst user = localStorage.getItem('userId');\\nconst token = localStorage.getItem('token');\\nconsole.log(store);\\nconst pusher = new Pusher('f790521ed52ae6aaf77e', {\\n    cluster: 'eu',\\n    forceTLS: true,\\n    authEndpoint: 'https://piedpiperchat.herokuapp.com/pusher/auth', //'http://localHost:8080/pusher/auth', //'https://192.168.1.39:8080/pusher/auth'\\n    auth: {\\n      params: {\\n        user: user\\n      },\\n      headers: {\\n          'x-auth-token': token\\n      }\\n    }\\n  });\\n\\n  export default pusher; \",\"import pusher from '../../../pusherConfig';\\nimport * as actionTypes from '../actions';\\nimport { store }  from '../../../index';\\n\\nconst channel = pusher.subscribe('presence-videocall');\\nconst caller = new window.RTCPeerConnection({'iceServers':[{'urls':'stun:stun.l.google.com:19302'}]});\\nconst userId = localStorage.getItem('userId');\\nlet room, sdp, callType;\\nlet state = null;\\n//setInterval(()=> console.log(caller.signalingState), 4000);\\nchannel.bind(\\\"pusher:subscription_succeeded\\\", members => {\\n         \\n    //this.setState({id: this.props.channel.members.me.id, room: this.props.callTo});\\n    \\n  });\\n\\nchannel.bind(\\\"pusher:member_added\\\", member => {\\n    console.log(member);\\n  });\\n\\nchannel.bind(\\\"pusher:member_removed\\\", member => {\\n    if (member.id === room) {\\n      alert('call Ended');\\n    }\\n    \\n});\\nchannel.bind(\\\"client-candidate\\\", msg => {\\n    if (msg.room === room) {\\n      addIceCandidate(new RTCIceCandidate(msg.candidate));\\n    }\\n});\\nchannel.bind(\\\"client-sdp\\\", msg => {\\n    if (msg.room === userId) {\\n        store.dispatch({type: actionTypes.ON_INCOMING_CALL, callType: msg.callType});\\n        let answer = window.confirm(`You have a ${msg.callType} call from ${msg.from}: Would you like to answer?`);\\n        if (!answer) {\\n          return channel.trigger(\\\"client-reject\\\", { room: msg.room, rejected: userId });\\n        } else {\\n        room = msg.room;\\n        // let sessionDesc = new RTCSessionDescription(msg.sdp);\\n        // setRemoteDescription(sessionDesc);\\n        sdp = msg.sdp;\\n        state = 'answerCall';\\n        getCam();\\n        }\\n    }\\n});\\n\\n    channel.bind(\\\"client-answer\\\", answer => {\\n        console.log(answer.room, room)\\n        if (answer.room === room) {\\n            console.log(\\\"answer received\\\");\\n            let sessionDesc = new RTCSessionDescription(answer.sdp);\\n            setRemoteDescription(sessionDesc);\\n        }\\n        });\\n    \\nconst onLocalStream = stream => {\\n    return {\\n        type: actionTypes.ON_LOCAL_STREAM,\\n        stream: stream\\n    }\\n}\\n//Create and send offer to remote peer on button click\\nexport const callUser = (user, Type) => {\\n    room = user;\\n    callType = Type;\\n    return dispatch => {\\n        getCam();\\n    }\\n  }    \\nconst getCam = () => {\\n    getMedia().then(stream => {\\n        store.dispatch(onLocalStream(stream));\\n        stream.getTracks().forEach(track => {\\n            caller.addTrack(track, stream)\\n        });    \\n            if (!state){\\n                createOffer();\\n            } else {\\n        let sessionDesc = new RTCSessionDescription(sdp);\\n        setRemoteDescription(sessionDesc);\\n        createAnswer();\\n            }\\n        })\\n        .catch(error => {\\n          console.log(\\\"an error occured\\\", error);\\n        });\\n}\\n\\nconst getMedia = () => {\\n    return navigator.mediaDevices.getUserMedia({\\n        video: callType === 'video' ? {width: 160,\\n            height: 120,\\n            frameRate: 15}: false,\\n        audio: true\\n      });\\n}\\nconst prepareCaller = channel => {\\n    return {\\n        type: actionTypes.PREPARE_CALLER,\\n        channel: channel\\n    }\\n}\\n\\nexport const getCallerReady = () => {\\n    return dispatch => {\\n     dispatch(prepareCaller(channel));\\n    //Listen for ICE Candidates and send them to remote peers\\n    caller.onicecandidate = evt => {\\n      if (!evt.candidate) return;\\n      onIceCandidate(caller, evt);\\n    };\\n    //ontrack handler to receive remote feed and show in remoteview video element\\n    caller.ontrack = evt => {\\n        dispatch(onTrack(evt));\\n    };\\n    }\\n}\\nconst onTrack = track => {\\n    return {\\n        type: actionTypes.ON_TRACK,\\n        remoteStream: track.streams[0]\\n    }\\n}\\nconst addIceCandidate = iceCandidate => {\\n    return caller.addIceCandidate(iceCandidate);\\n}\\n\\nconst onIceCandidate = (peer, evt) => {\\n    if (evt.candidate) {   \\n      channel.trigger(\\\"client-candidate\\\", {\\n        candidate: evt.candidate,\\n        room: room\\n      });\\n    }\\n  }\\n\\nconst setLocalDescription = sessionDesc => {\\n    return caller.setLocalDescription(sessionDesc);\\n}\\n\\nconst setRemoteDescription = sessionDesc => {\\n    return caller.setRemoteDescription(sessionDesc);\\n}\\n\\nconst addTrack = (track, stream) => {\\n  caller.addTrack(track, stream);\\n}\\n\\nconst createAnswer = () => {\\n    caller.createAnswer().then(sdp => {\\n        let sessionDesc = new RTCSessionDescription(sdp);\\n        setLocalDescription(sessionDesc);\\n        channel.trigger(\\\"client-answer\\\", {\\n            sdp: sdp,\\n            room: room\\n        });\\n    });;\\n}\\n\\nconst createOffer = () => {        \\n    caller.createOffer({offerToReceiveVideo: true}).then(desc => {\\n        let sessionDesc = new RTCSessionDescription(desc);\\n        setLocalDescription(sessionDesc);\\n        channel.trigger(\\\"client-sdp\\\", {\\n            sdp: desc,\\n            room: room,\\n            from: userId,\\n            callType: callType\\n        });\\n    })\\n    .catch(err => console.log(err));\\n}\",\"import React from 'react';\\n\\nimport classes from './Input.module.css';\\n\\nconst input = ( props ) => {\\n    let inputElement = null;\\n    let inputClasses = [classes.InputElement];\\n\\n    if (props.invalid && props.shouldValidate && props.touched){\\n        inputClasses.push(classes.Invalid);\\n    }\\n    switch ( props.elementType ) {\\n        case ( 'input' ):\\n            inputElement = <input\\n                className={inputClasses.join(' ')}\\n                {...props.elementConfig}\\n                value={props.value}\\n                onChange={props.changed} />;\\n            break;\\n        case ( 'textarea' ):\\n            inputElement = <textarea\\n                className={inputClasses.join(' ')}\\n                {...props.elementConfig}\\n                value={props.value}\\n                onChange={props.changed} />;\\n            break;\\n        case ( 'select' ):\\n            inputElement = (\\n                <select\\n                    className={inputClasses.join(' ')}\\n                    value={props.value}\\n                    onChange={props.changed}>\\n                    {props.elementConfig.options.map(option => (\\n                        <option key={option.value} value={option.value}>\\n                            {option.displayValue}\\n                        </option>\\n                    ))}\\n                </select>\\n            );\\n            break;\\n        default:\\n            inputElement = <input\\n                className={classes.InputElement}\\n                {...props.elementConfig}\\n                value={props.value}\\n                onChange={props.changed} />;\\n    }\\n\\n    return (\\n        <div  className={classes.Input}>\\n            <label className={classes.Label}>{props.label}</label>\\n            {inputElement}\\n        </div>\\n    );\\n\\n};\\n\\nexport default input;\",\"export const updateObject = (oldObject, updatedProperties) => {\\n    return {\\n        ...oldObject,\\n        ...updatedProperties\\n    };\\n};\\n\\nexport const checkValidity = (value, rules) => {\\n    \\n    let isValid = true;\\n    if (!rules) {\\n        return true;\\n    }\\n    \\n    if (rules.required) {\\n        isValid = value.trim() !== '' && isValid;\\n    }\\n\\n    if (rules.minLength) {\\n        isValid = value.length >= rules.minLength && isValid\\n    }\\n\\n    if (rules.maxLength) {\\n        isValid = value.length <= rules.maxLength && isValid\\n    }\\n\\n    if (rules.isEmail) {\\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\\n        isValid = pattern.test(value) && isValid\\n    }\\n\\n    if (rules.isNumeric) {\\n        const pattern = /^\\\\d+$/;\\n        isValid = pattern.test(value) && isValid\\n    }\\n\\n    return isValid;\\n}\",\"import React from 'react';\\nimport classes from './Button.module.css';\\n\\nconst button = ( props ) => (\\n    <button\\n    onClick = {props.clicked}\\n    disabled={props.disabled}\\n    className={[classes.Button, classes[props.btnType]].join(' ')}\\n    >{props.children}</button>\\n);\\n\\nexport default button;\",\"import React, { Component } from 'react';\\r\\nimport classes from './Register.module.css';\\r\\nimport { connect } from 'react-redux';\\r\\nimport * as actionCreators from '../../../store/actions/actionIndex';\\r\\nimport Input from '../../UI/Input/Input';\\r\\nimport { checkValidity, updateObject} from '../../../shared/utility';\\r\\nimport Button from '../../UI/Button/Button';\\r\\n\\r\\nclass Register extends Component {\\r\\n\\r\\n    state = {\\r\\n      controls: {\\r\\n       name: {\\r\\n          elementType: 'input',\\r\\n          elementConfig: {\\r\\n            placeholder: 'Enter your full name',\\r\\n            type: 'text'\\r\\n          },\\r\\n          value: '',\\r\\n          validation: {\\r\\n            required: true\\r\\n          },\\r\\n          valid: false,\\r\\n          touched: false\\r\\n        },\\r\\n        email: {\\r\\n            elementType: 'input',\\r\\n            elementConfig: {\\r\\n                placeholder: 'Enter your email',\\r\\n                type: 'email'\\r\\n            },\\r\\n            value: '',\\r\\n            validation: {\\r\\n                required: true,\\r\\n                isEmail: true\\r\\n            },\\r\\n            valid: false,\\r\\n            touched: false\\r\\n        },\\r\\n        username: {\\r\\n          elementType: 'input',\\r\\n          elementConfig: {\\r\\n              placeholder: 'Enter username',\\r\\n              type: 'text'\\r\\n          },\\r\\n          value: '',\\r\\n          validation: {\\r\\n              required: true\\r\\n          },\\r\\n          valid: false,\\r\\n          touched: false\\r\\n      },  \\r\\n        password: {\\r\\n            elementType: 'input',\\r\\n            elementConfig: {\\r\\n                placeholder: 'Enter your password',\\r\\n                type: 'password'\\r\\n            }, \\r\\n            value: '',\\r\\n            validation: {\\r\\n                required: true,\\r\\n                minLength: 8\\r\\n            },\\r\\n            valid: false,\\r\\n            touched: false\\r\\n        },\\r\\n        password2: {\\r\\n          elementType: 'input',\\r\\n          elementConfig: {\\r\\n              placeholder: 'Confirm your password',\\r\\n              type: 'password'\\r\\n          }, \\r\\n          value: '',\\r\\n          validation: {\\r\\n              required: true,\\r\\n              minLength: 8,\\r\\n              isEqual: false\\r\\n          },\\r\\n          valid: false,\\r\\n          touched: false\\r\\n      }\\r\\n           },\\r\\n        formIsValid: false\\r\\n  }\\r\\n\\r\\n  onChange = (event, inputIdentifier) => {\\r\\n    const { value } = event.target;\\r\\n    const updatedFormElement = updateObject(this.state.controls[inputIdentifier], {\\r\\n      value: value,\\r\\n      touched: true,\\r\\n      valid: checkValidity(value, this.state.controls[inputIdentifier].validation)\\r\\n  })\\r\\n  const updatedForm = updateObject(this.state.controls, {\\r\\n      [inputIdentifier]: updatedFormElement\\r\\n  });\\r\\n  let formIsValid = true;\\r\\n  for (let key in updatedForm){\\r\\n      formIsValid = updatedForm[key].valid && formIsValid;\\r\\n  }\\r\\n  this.setState({controls: updatedForm, formIsValid: formIsValid});\\r\\n  };\\r\\n\\r\\n  onSubmit = event => {\\r\\n    event.preventDefault();\\r\\n    let { password, password2} = this.state.controls;\\r\\n    console.log(password.value, password2.value)\\r\\n    if (password.value !== password2.value){\\r\\n      alert('passwords do not match');\\r\\n    } else {\\r\\n    const controls = { ...this.state.controls };\\r\\n    const data = {};\\r\\n    for (let control in controls){\\r\\n      data[control] = controls[control]['value'];\\r\\n    }\\r\\n    this.props.onRegister(data);\\r\\n    }\\r\\n    \\r\\n  };\\r\\n\\r\\n  componentDidUpdate () {\\r\\n    if (this.props.registrationSuccess){\\r\\n      this.props.history.push('/login');\\r\\n    }\\r\\n  }\\r\\n  render() {\\r\\n    let formElements = [];\\r\\n    for (let key in this.state.controls){\\r\\n      formElements.push({\\r\\n        id: key,\\r\\n        config: this.state.controls[key] \\r\\n      });\\r\\n    }\\r\\n    let form = formElements.map(formElement => {\\r\\n      return <Input \\r\\n          key={formElement.id} elementType={formElement.config.elementType}\\r\\n          elementConfig={formElement.config.elementConfig}\\r\\n          value={formElement.config.value}\\r\\n          invalid={!formElement.config.valid}\\r\\n          shouldValidate={formElement.config.validation}\\r\\n          touched={formElement.config.touched}\\r\\n          changed={ event => this.onChange(event, formElement.id)}\\r\\n            />\\r\\n    })\\r\\n    return (\\r\\n      <div className={classes.RegisterBox}>\\r\\n        <h2> Register </h2>\\r\\n        <form onSubmit={this.onSubmit}>\\r\\n          {form}\\r\\n          <Button btnType='Success' disabled={!this.state.formIsValid} >Register</Button>\\r\\n        </form>\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n}\\r\\nconst mapStateToProps = state => {\\r\\n  return {\\r\\n    registrationSuccess: state.auth.registrationSuccess\\r\\n  }\\r\\n}\\r\\nconst mapDispatchToProps = dispatch => {\\r\\n  return {\\r\\n    onRegister: data => dispatch(actionCreators.onRegister(data))\\r\\n  }\\r\\n}\\r\\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\\r\\n\",\"import React, { Component } from \\\"react\\\";\\r\\nimport {Redirect} from 'react-router';\\r\\nimport { connect } from 'react-redux';\\r\\nimport * as actionCreators from '../../../store/actions/actionIndex';\\r\\nimport classes from './Login.module.css'; \\r\\nimport Input from '../../UI/Input/Input';\\r\\nimport { checkValidity, updateObject } from '../../../shared/utility';\\r\\nimport Button from '../../UI/Button/Button'; \\r\\n\\r\\nclass Login extends Component {\\r\\n\\r\\n  state = {\\r\\n      controls: {\\r\\n        email: {\\r\\n          elementType: 'input',\\r\\n          elementConfig: {\\r\\n              placeholder: 'Enter your email',\\r\\n              type: 'email'\\r\\n          },\\r\\n          value: '',\\r\\n          validation: {\\r\\n              required: true,\\r\\n              isEmail: true\\r\\n          },\\r\\n          valid: false,\\r\\n          touched: false\\r\\n      },\\r\\n      password: {\\r\\n        elementType: 'input',\\r\\n        elementConfig: {\\r\\n            placeholder: 'Enter your password',\\r\\n            type: 'password'\\r\\n        }, \\r\\n        value: '',\\r\\n        validation: {\\r\\n            required: true,\\r\\n            minLength: 8\\r\\n        },\\r\\n        valid: false,\\r\\n        touched: false\\r\\n    }\\r\\n      },\\r\\n      formIsValid: false\\r\\n  }\\r\\n\\r\\n  onChange = (event, inputIdentifier) => {\\r\\n    const { value } = event.target;\\r\\n    const updatedFormElement = updateObject(this.state.controls[inputIdentifier], {\\r\\n      value: value,\\r\\n      touched: true,\\r\\n      valid: checkValidity(value, this.state.controls[inputIdentifier].validation)\\r\\n    });\\r\\n    const updatedForm = updateObject(this.state.controls, {\\r\\n      [inputIdentifier]: updatedFormElement\\r\\n    });\\r\\n    let formIsValid = true;\\r\\n  for (let key in updatedForm){\\r\\n      formIsValid = updatedForm[key].valid && formIsValid;\\r\\n  }\\r\\n  this.setState({controls: updatedForm, formIsValid: formIsValid});\\r\\n  };\\r\\n\\r\\n  onSubmit = e => {\\r\\n    e.preventDefault();\\r\\n    const controls = {...this.state.controls}\\r\\n    const data = {};\\r\\n    for (let control in controls){\\r\\n      data[control] = controls[control]['value'];\\r\\n    }\\r\\n    this.props.onLogIn(data);\\r\\n  };\\r\\n  render() {\\r\\n    let redirect = null;\\r\\n    if (this.props.isLoggedIn){\\r\\n      redirect = <Redirect to=\\\"/\\\"/>;\\r\\n    }\\r\\n    let formElements = [];\\r\\n    for (let key in this.state.controls){\\r\\n      formElements.push({\\r\\n        id: key,\\r\\n        config: this.state.controls[key]\\r\\n      });\\r\\n    }\\r\\n    const form = formElements.map(formElement => {\\r\\n      return <Input \\r\\n                key={formElement.id} elementType={formElement.config.elementType}\\r\\n                elementConfig={formElement.config.elementConfig}\\r\\n                value={formElement.config.value}\\r\\n                invalid={!formElement.config.valid}\\r\\n                shouldValidate={formElement.config.validation}\\r\\n                touched={formElement.config.touched}\\r\\n                changed={ event => this.onChange(event, formElement.id)}\\r\\n            />\\r\\n    })\\r\\n    return (\\r\\n      <div className={classes.Login}>\\r\\n      {redirect}\\r\\n        <h2> Login </h2>\\r\\n        <form onSubmit={this.onSubmit}>\\r\\n          {form}\\r\\n          <Button btnType='Success' disabled={!this.state.formIsValid}>Log in</Button>\\r\\n        </form>\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n}\\r\\nconst mapStateToProps = state => {\\r\\n  return {\\r\\n    isLoggedIn: state.auth.token !== null\\r\\n  }\\r\\n}\\r\\n\\r\\nconst mapDispatchToProps = dispatch => {\\r\\n  return {\\r\\n    onLogIn: (data) => dispatch(actionCreators.onLogIn(data))\\r\\n  }\\r\\n}\\r\\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\\r\\n\",\"import React, { Component } from 'react';\\nimport { connect } from 'react-redux';\\nimport * as actionCreators from '../../../store/actions/actionIndex';\\n\\nclass Logout extends Component {\\n    componentDidMount(){\\n        this.props.logout();\\n        this.props.history.push(\\\"/\\\")\\n    }\\n    render() {\\n        return (\\n            <div></div>\\n        )\\n    }\\n}\\nconst mapDispatchToProps = dispatch => {\\n    return {\\n        logout: () => dispatch(actionCreators.onLogout())\\n    }\\n}\\nexport default connect(null, mapDispatchToProps)(Logout);\",\"import React, { Component } from \\\"react\\\";\\r\\nimport {Link} from \\\"react-router-dom\\\";\\r\\nimport { connect } from 'react-redux';\\r\\n\\r\\nimport classes from \\\"./Navbar.module.css\\\";\\r\\n\\r\\nclass Navbar extends Component {\\r\\n  render() {\\r\\n    let displayedElements = (<ul>\\r\\n          <li>\\r\\n            <Link to=\\\"/\\\">\\r\\n              {/* <div className=\\\"navIcon\\\">\\r\\n                <i className=\\\"fa fa-home\\\" aria-hidden=\\\"true\\\" />\\r\\n              </div> */}\\r\\n              <div className={[classes.NavItem, classes.Brand].join(' ')}>\\r\\n                <span data-text=\\\"PiperChat\\\"> </span>\\r\\n                PiperChat\\r\\n              </div>\\r\\n              </Link>\\r\\n          </li>\\r\\n          <li>\\r\\n            <Link to=\\\"/login\\\">\\r\\n              {/* <div className=\\\"navIcon\\\">\\r\\n                <i className=\\\"fa fa-sign-in\\\" aria-hidden=\\\"true\\\" />\\r\\n              </div> */}\\r\\n              <div className={classes.NavItem}>\\r\\n                <span data-text=\\\"Login\\\"> </span>\\r\\n                Login\\r\\n              </div>\\r\\n            </Link>\\r\\n          </li>\\r\\n          <li>\\r\\n            <Link to=\\\"/register\\\">\\r\\n              {/* <div className=\\\"navIcon\\\">\\r\\n                <i className=\\\"fa fa-user-plus\\\" aria-hidden=\\\"true\\\" />\\r\\n              </div> */}\\r\\n              <div className={classes.NavItem}>\\r\\n                <span data-text=\\\"Register\\\"> </span>\\r\\n                Register\\r\\n              </div>\\r\\n            </Link>\\r\\n          </li>\\r\\n        </ul>);\\r\\n        if (this.props.isLoggedIn){\\r\\n          displayedElements = (<ul>\\r\\n          <li>\\r\\n            <Link to=\\\"/\\\">\\r\\n              {/* <div className=\\\"navIcon\\\">\\r\\n                <i className=\\\"fa fa-home\\\" aria-hidden=\\\"true\\\" />\\r\\n              </div> */}\\r\\n              <div className={classes.NavItem}>\\r\\n                <span data-text=\\\"PiperChat\\\"> </span>\\r\\n               PiperChat\\r\\n              </div>\\r\\n              </Link>\\r\\n          </li>\\r\\n          <li>\\r\\n            <Link to=\\\"/logout\\\">\\r\\n              {/* <div className=\\\"navIcon\\\">\\r\\n                <i className=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\" />\\r\\n              </div> */}\\r\\n              <div className={classes.NavItem}>\\r\\n                <span data-text=\\\"Logout\\\"> </span>\\r\\n                Logout\\r\\n              </div>\\r\\n            </Link>\\r\\n          </li>\\r\\n          </ul>);\\r\\n        }\\r\\n    return (\\r\\n      <div className={classes.Navbar}>\\r\\n        {displayedElements}\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n}\\r\\nconst mapStateToProps = state => {\\r\\n  return {\\r\\n    isLoggedIn: state.auth.token !== null\\r\\n  }\\r\\n}\\r\\nexport default connect(mapStateToProps)(Navbar);\\r\\n\",\"import React from 'react';\\nimport classes from './Contact.module.css';\\nimport img from '../../images/p37605.png'\\nconst contact = props => {\\n    let attachedClasses = [classes.Contact];\\n    if (props.Active){\\n        attachedClasses.push(classes.Active); \\n    }\\n    return (\\n    <div className={attachedClasses.join(' ')} onClick={props.clicked}>\\n        <img src={img} alt=''/>\\n        <div>\\n            <p>{props.name}</p>\\n            <p>{props.lastMessage}</p>\\n        </div>\\n    </div>\\n    )\\n}\\n\\nexport default contact;\",\"import React from 'react';\\nimport classes from './Chat.module.css';\\n\\n\\nconst chat = props => {\\n    let attachedClasses = [classes.Chat];\\n    if (props.byCurrentUser){\\n        //attachedClasses.push(classes.ByCurrentUser);\\n        attachedClasses = [classes.ByCurrentUser];\\n    }\\n    return (\\n        <div className={attachedClasses.join('')}>\\n            <li>\\n                <span className={classes.Sender}>{props.sender}</span>\\n                <br />\\n                <span className={classes.Text}>{props.text}</span>\\n            </li>        \\n        </div>\\n    )\\n}\\n\\nexport default chat;\",\"import React from 'react';\\nimport classes from './JoinableRoom.module.css';\\n\\nconst joinableRoom = props => {\\n    return (\\n    <span className={classes.JoinableRoom}>\\n        <img src={props.groupImage} alt='' />\\n        <span>\\n            <p>{props.name}</p>\\n            <p>{props.lastMessage}</p>\\n        </span>\\n    </span>\\n    )\\n}\\n\\nexport default joinableRoom;\",\"import React from 'react';\\nimport JoinableRoom from './JoinableRoom/JoinableRoom';\\nconst joinableRooms = props => {\\n    return (\\n    <React.Fragment>\\n        {props.joinableRooms.map((room, i) => {\\n            return <JoinableRoom key={i} groupImage={room.groupImage} \\n            name={room.name} lastMessage={room.lastMessage}/>\\n        })}\\n    </React.Fragment>)\\n}\\n\\nexport default joinableRooms;\",\"import React, {Component} from 'react'; \\nimport classes from './SideDrawer.module.css';\\nimport axios from '../../../Axios';\\nimport { connect } from 'react-redux';\\nimport JoinableRooms from './JoinableRooms/JoinableRooms';  \\n\\n\\n\\nclass SideDrawer extends Component {\\n        state = {\\n            showCreateForm: false,\\n            showNewChatForm: false,\\n            groupName: '',\\n            participants: [],\\n            potentialParticipants: [],\\n            newGroupChatParticipants: {},\\n            privateChatParticipant: '',\\n            joinableRooms: [],\\n            ShowJoinableRoomsList: false\\n        }\\n        createNewGroupHandler = () => {\\n            let potentialParticipants = this.props.user.rooms.filter(u => u.isPrivate);\\n            let chatParticipants = {};\\n            potentialParticipants.forEach(pp => chatParticipants[pp.name] = false);\\n            this.setState(prevState => {\\n                return {\\n                showCreateForm: !prevState.showCreateForm, \\n                potentialParticipants, \\n                ShowJoinableRoomsList: false,\\n                showNewChatForm: false,\\n                newGroupChatParticipants: chatParticipants \\n             }\\n            });\\n            \\n        }\\n        onChange = event => {\\n            this.setState({[event.target.name]: event.target.value});\\n        }\\n        onCreateNewGroup = event => {\\n            event.preventDefault();\\n            \\n            let obj = {...this.state.newGroupChatParticipants};\\n            let participants = Object.keys(obj).filter(j => obj[j]);\\n            this.props.user.createRoom({\\n                name: this.state.groupName,\\n                private: false,\\n                addUserIds: participants,\\n                customData: { foo: 42 },\\n              }).then(room => {\\n                console.log(`Created room called ${room.name}`);\\n                this.setState({groupName: '', newGroupChatParticipants: {}});\\n    \\n\\n              })\\n              .catch(err => {\\n                console.log(`Error creating room ${err}`)\\n              })\\n        }\\n        startNewChatHandler = () => {\\n            this.setState(prevState => {\\n                return {\\n                showNewChatForm: !prevState.showNewChatForm, \\n                ShowJoinableRoomsList: false, \\n                showCreateForm: false\\n            }})\\n            \\n        }\\n        onStartNewChat = event => {\\n            event.preventDefault();\\n            axios.get(`/search/${this.state.privateChatParticipant}`, {headers: {'x-auth-token': this.props.token}})\\n            .then(res => {\\n                this.props.user.createRoom({\\n                name: this.state.privateChatParticipant,\\n                private: true,\\n                addUserIds: [this.state.privateChatParticipant],\\n                customData: {displayImage: res.data.avatar}     \\n            })\\n                .then(res => console.log(res))\\n                .catch(err => console.log(err));\\n            })\\n            .catch(err => console.log(err));\\n        }\\n        joinGroup = () => {\\n            this.props.user.getJoinableRooms()\\n            .then(rooms => {\\n                console.log(rooms);\\n              this.setState(prevState => {\\n                  return {\\n                  joinableRooms: rooms, \\n                  ShowJoinableRoomsList: !prevState.ShowJoinableRoomsList,\\n                  showCreateForm: false,\\n                  showNewChatForm: false\\n                }\\n                });\\n              \\n            })\\n            .catch(err => {\\n              console.log(`Error getting joinable rooms: ${err}`)\\n            })\\n        }\\n        onPPChange = event => {\\n            let { name, checked } = event.target;\\n            let groupParticipants = {...this.state.newGroupChatParticipants};\\n            groupParticipants[name] = checked;\\n            this.setState({newGroupChatParticipants: groupParticipants});\\n        } \\n    render (){\\n        let attachedClasses = [classes.SideDrawer, classes.Close];\\n    if (this.props.show){\\n        attachedClasses = [classes.SideDrawer, classes.Open];\\n    }\\n       return  (\\n        <div className={attachedClasses.join(' ')}>\\n            <div onClick={this.createNewGroupHandler}>Create a new group</div>\\n            <form onSubmit={this.onCreateNewGroup} style={{display: this.state.showCreateForm ? 'block' : 'none'}}>\\n                <input onChange={this.onChange} type='text' name='groupName' value={this.state.groupName} placeholder='Enter group name' />\\n                <h3>Add participants</h3>\\n                {this.state.potentialParticipants.map((pp, i) => {\\n                    return (\\n                    <span key={i} className={classes.PP}>\\n                        <input onChange={this.onPPChange} type=\\\"checkbox\\\" name={pp.name} checked={this.state.newGroupChatParticipants[pp.name]}/>\\n                        <label htmlFor={pp.name}>{pp.name}</label>\\n                    </span>\\n                    )\\n                })}\\n                \\n                <button>Submit</button>\\n            </form>\\n            <div onClick={this.joinGroup}>Join a group</div>\\n            <span style={{display: this.state.ShowJoinableRoomsList ? 'block' : 'none'}} className={classes.RoomsList}>\\n                \\n                    {/* {this.state.joinableRooms.map((room, i) => {\\n                        return <li key={i}>{room.name}</li>\\n                    })} */}\\n                    <JoinableRooms joinableRooms={this.state.joinableRooms} />\\n                \\n            </span>\\n            <div onClick={this.startNewChatHandler}>Start a new chat</div>\\n            <form onSubmit={this.onStartNewChat} style={{display: this.state.showNewChatForm ? 'block' : 'none'}}>\\n                <input onChange={this.onChange} type='text' name='privateChatParticipant' placeholder='Who do you wanna chat with?' />    \\n                <button>Submit</button>\\n            </form>\\n        </div>\\n        );\\n    \\n}\\n}\\nconst mapStateToProps = state => {\\n    return {\\n        token: state.auth.token,\\n        userId: state.auth.userId\\n    }\\n}\\nexport default connect(mapStateToProps)(SideDrawer);\",\"import React from 'react';\\n\\nimport classes from './Backdrop.module.css';\\n\\nconst backdrop = props => (\\n    <div onClick={props.clicked} className={classes.Backdrop}></div>\\n    )\\nexport default backdrop;\",\"import React, {Component} from 'react';\\nimport classes from './Modal.module.css';\\nimport Backdrop from '../../components/UI/Backdrop/Backdrop';\\nclass Modal extends Component {\\n    render(){\\n        let modal = null;\\n        if (this.props.show){\\n            modal = (\\n            <React.Fragment>\\n                <Backdrop show={this.props.show} clicked={this.props.backdropClicked}/>\\n                <div className={classes.Modal}>{this.props.children}</div>\\n            </React.Fragment>\\n        );\\n        } \\n        return modal;\\n    \\n    }\\n}\\n\\nexport default Modal;\",\"import React, { Component} from 'react';\\nimport classes from './Call.module.css';\\nimport { connect } from 'react-redux';\\nimport * as callActionCreators from '../../store/actions/actionIndex'\\n\\nclass Call extends Component {\\n    \\n    state = {\\n          id: null,\\n          room: ''\\n    }\\n       \\n    componentDidMount (){\\n        \\n        this.props.callUser(this.props.callTo, this.props.callType);\\n        alert(this.props.callType);\\n        this.props.channel.bind(\\\"client-reject\\\", answer => {\\n            if (answer.room === this.state.room) {\\n              console.log(\\\"Call declined\\\");\\n              alert(\\\"call to \\\" + answer.rejected + \\\"was politely declined\\\");\\n              this.endCall();\\n            }\\n          });\\n      \\n          this.props.channel.bind(\\\"client-endcall\\\", answer =>  {\\n            if (answer.room === this.state.room) {\\n              console.log(\\\"Call Ended\\\");\\n              this.endCall();\\n            }\\n          });\\n          \\n    }\\n       \\n    \\n     endCall = () => {\\n          this.setState({room: undefined});\\n          ///this.props.closeCaller.close();\\n          for (let track of this.localUserMedia.getTracks()) {\\n            track.stop();\\n          }\\n        \\n          this.toggleEndCallButton();\\n        }\\n    \\n       endCurrentCall = () => {\\n          this.props.channel.trigger(\\\"client-endcall\\\", {\\n            room: this.state.room\\n          });\\n    \\n          this.endCall();\\n        }\\n    \\n    \\n         toggleEndCallButton = () => {\\n        /*  if (document.getElementById(\\\"endCall\\\").style.display === \\\"block\\\") {\\n            document.getElementById(\\\"endCall\\\").style.display = \\\"none\\\";\\n          } else {\\n            document.getElementById(\\\"endCall\\\").style.display = \\\"block\\\";\\n          }*/\\n        }\\n    componentDidUpdate () {\\n        if (this.props.callType === 'video'){\\n            this.localVideoRef.srcObject = this.props.localStream;\\n            this.remoteVideoRef.srcObject = this.props.remoteStream;\\n        } else {\\n            this.localAudioRef.srcObject = this.props.localStream;\\n            this.remoteAudioRef.srcObject = this.props.remoteStream;\\n        }\\n    }\\n       \\n    render () {\\n        let call = null;\\n        if (this.props.callType === 'video'){\\n            call = (\\n                <React.Fragment>\\n                    <video autoPlay muted src={this.props.localStream} \\n                        className={classes.LocalVideo} \\n                        ref={(lVid)=> this.localVideoRef = lVid}>\\n                    </video>\\n                    <video autoPlay  src={this.props.remoteStream} \\n                        className={classes.remoteVideo} \\n                        ref={(rVid)=> this.remoteVideoRef = rVid}>\\n                    </video>\\n                </React.Fragment>\\n            );\\n        } else {\\n            call = (\\n                <React.Fragment>\\n                    <audio autoPlay src={this.props.localStream} ref={audio => this.localAudioRef = audio} />\\n                    <audio autoPlay src={this.props.remoteStream} ref={audio => this.remoteAudioRef = audio} />\\n                </React.Fragment>\\n            )\\n        }\\n        return (\\n            <div className={classes.Call}>{call}</div>\\n        )\\n    }\\n}\\nconst mapStateToProps = state => {\\n    return {\\n        userId: state.auth.userId,\\n        channel: state.call.channel,\\n        remoteStream: state.call.remoteStream,\\n        localStream: state.call.localStream\\n    }\\n}\\nconst mapDispatchToProps = dispatch => {\\n    return {\\n        callUser: (user, callType) => dispatch(callActionCreators.callUser(user, callType))\\n    }\\n}\\nexport default connect(mapStateToProps, mapDispatchToProps)(Call);\",\"import React, {Component} from 'react';\\nimport classes from './ChatScreenBar.module.css';\\nimport Modal from '../../containers/Modal/Modal';\\nimport Call from '../../containers/Call/Call';\\n\\nclass ChatScreenBar extends Component {\\n    state = {\\n        showModal: false,\\n        isVideo: false,\\n        callType: ''\\n    }\\n    onVideoCallInit = () => {\\n            this.setState({showModal: true, callType: 'video', isVideo: true});\\n    }\\n\\n    onVoiceCallInit = () => {\\n        this.setState({showModal: true, isVideo: false, callType: 'audio'});\\n    }\\n    render() {\\n        return (\\n            <div className={classes.ChatScreenBar}>\\n            <div>\\n                   <img src='https://ichef.bbci.co.uk/images/ic/720x405/p0517py6.jpg' alt=''/>\\n                   <span>{this.props.room.name}</span>\\n               </div>\\n               <div className={classes.FA}>\\n               {  this.props.room.isPrivate &&  <React.Fragment><i onClick={this.onVideoCallInit} className=\\\"fa fa-video\\\"></i>\\n                    <i onClick={this.onVoiceCallInit} className=\\\"fa fa-phone\\\"></i>\\n                    </React.Fragment>\\n               }\\n               <i className='fa fa-ellipsis-h'></i>\\n               </div>\\n               <Modal backdropClicked={() => this.setState({showModal: false})} show={this.state.showModal}>\\n                    {this.state.callType ? \\n                        <Call callTo={this.props.room.name} callType={this.state.callType}/> : \\n                        null}\\n                </Modal>\\n            </div>\\n        )\\n    } \\n }\\n\\n export default ChatScreenBar;\",\"import React from 'react';\\nimport classes from './Spinner.module.css';\\n\\n\\nconst spinner = ( props ) => (\\n    <div className={classes.Spinner}><div></div><div></div></div>\\n);\\n\\nexport default spinner;\",\"import React, { Component } from 'react';\\nimport { connect } from 'react-redux';\\nimport { ChatManager, TokenProvider } from '@pusher/chatkit-client';\\nimport Contact from './Contact';\\nimport Chat from './Chat';\\nimport classes from './ChatScreen.module.css';\\nimport SideDrawer from '../../components/UI/SideDrawer/SideDrawer';\\nimport ChatScreenBar from '../../components/ChatScreenBar/ChatScreenBar';\\nimport Modal from '../Modal/Modal';\\nimport Spinner from '../../components/UI/Spinner/Spinner';\\nimport * as callActionCreators from '../../store/actions/actionIndex';\\n\\n\\n\\nclass ChatScreen extends Component {\\n\\n    state = {\\n        contacts: [],\\n        room: null,\\n        text: '',\\n        messages: [],\\n        showSideDrawer: false\\n    }\\n\\n    componentDidMount () {\\n        const chatManager = new ChatManager({\\n            instanceLocator: 'v1:us1:64b7dbdb-3e59-4fad-9823-83add90cba65',\\n            userId: this.props.userId,\\n            tokenProvider: new TokenProvider({\\n                url: 'https://us1.pusherplatform.io/services/chatkit_token_provider/v1/64b7dbdb-3e59-4fad-9823-83add90cba65/token'\\n            }),\\n        })\\n      chatManager\\n        .connect({\\n            onAddedToRoom: room => {\\n\\n                this.getRooms();\\n                this.setState({showSideDrawer: false, room: room});\\n                this.getMessages(room);\\n            }\\n        })\\n        .then(user => {\\n            this.currentUser = user;\\n            this.getRooms();\\n\\n        })\\n        .catch(err => console.log(err));\\n        \\n            this.scrollToBottom();\\n            this.props.getCallerReady();\\n    }\\n\\n    \\n\\n    scrollToBottom = () => {\\n       if (this.scrollRef && this.state.messages.length > 0){\\n        let lastElement = this.scrollRef.children[this.scrollRef.children.length-1];\\n        lastElement.scrollIntoView(\\\"smooth\\\");\\n    }\\n}\\n    getRooms = () => {\\n        this.setState({contacts: this.currentUser.rooms});\\n        //Subscribe to all rooms\\n        this.state.contacts.map(con => {\\n           return  this.currentUser.subscribeToRoom({\\n                roomId: con.id,\\n                hooks: {\\n                  onMessage: message => {\\n                    //this.setState({messages: [...this.state.messages, message]});\\n                    this.getMessages(message.room);\\n                    this.scrollToBottom();\\n                  }\\n                },\\n                messageLimit: 100\\n              })\\n        })\\n    }\\n    getMessages = room => { \\n        \\n        this.setState({room: room});\\n        this.currentUser.fetchMessages({\\n            roomId: room['id'],\\n            //initialId: 42,\\n            direction: 'older',\\n            limit: 100,\\n          })\\n            .then(messages => {\\n              this.setState({messages});\\n              this.scrollToBottom();\\n            })\\n            .catch(err => {\\n              console.log(`Error fetching messages: ${err}`)\\n            })\\n    }\\n\\n    onChange = event => {\\n        this.setState({text: event.target.value});\\n    }\\n    onSubmit = event => {\\n        event.preventDefault();\\n        this.currentUser.sendMessage({\\n            text: this.state.text,\\n            roomId: this.state.room.id\\n        })\\n        this.setState({text: ''});\\n    }\\n\\n   toggleSideDrawer = () => {\\n        this.setState(prevState => {\\n            return {showSideDrawer: !prevState.showSideDrawer}});\\n    }\\n\\n    render () {\\n        \\n        let chat = <div className={classes.Chat}></div>;\\n        if (this.state.room){\\n            chat = (\\n            <div className={classes.Chat}>\\n                <ChatScreenBar room={this.state.room}/>\\n                <div className={classes.Msgs} ref={(div) => {this.scrollRef = div}}>\\n                {\\n                    this.state.messages.map(msg => {\\n                        return <Chat sender={msg.senderId} byCurrentUser={this.props.userId === msg.senderId} text={msg.text} key={msg.id} />\\n                    })\\n                }\\n                </div>\\n           \\n            <form onSubmit={this.onSubmit}>\\n                <input onChange={this.onChange} value={this.state.text} name='text' type=\\\"text\\\" placeholder=\\\"Enter message\\\" />\\n            </form>\\n            </div>\\n            );\\n        } else {\\n            chat = (\\n                    <Modal show={true}>\\n                        <Spinner />\\n                    </Modal>\\n            );\\n        }\\n        return (\\n            <div className={classes.ChatScreen}>\\n                <div className={classes.ContactsPane} >\\n                <SideDrawer show={this.state.showSideDrawer} \\n                user={this.currentUser}\\n                />\\n                <div className={classes.MenuBar}>\\n                    <i onClick = {this.toggleSideDrawer} className=\\\"fa fa-bars\\\"></i>\\n                </div>\\n                <h1 style={{textAlign: 'center'}}>Contacts</h1>\\n                {this.state.room && this.state.contacts.map(con => {\\n                    return <Contact key={con.id} name={con.name} Active={con.id === this.state.room.id} clicked={() => this.getMessages(con)}/>\\n                })}\\n                </div>\\n                {chat}\\n            </div>\\n        )\\n    }\\n}\\n\\nconst mapStateToProps = state => {\\n    return {\\n        userId: state.auth.userId,\\n        channel: state.call.channel\\n    }\\n}\\nconst mapDispatchToProps = dispatch => {\\n    return {\\n        getCallerReady: () => dispatch(callActionCreators.getCallerReady())\\n    }\\n}\\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatScreen);\",\"import React, { Component } from \\\"react\\\";\\nimport {Route, withRouter, Switch } from \\\"react-router-dom\\\";\\nimport { connect } from 'react-redux';\\n\\nimport Register from \\\"./components/Auth/Register/Register\\\";\\nimport Login from \\\"./components/Auth/Login/Login\\\";\\nimport Logout from \\\"./components/Auth/Logout/Logout\\\";\\nimport Navbar from \\\"./components/UI/Navigation/Navbar\\\";\\nimport ChatScreen from './containers/PiperChat/ChatScreen';\\nimport * as actionCreators from './store/actions/actionIndex';\\nimport Call from './containers/Call/Call';\\nimport \\\"./App.css\\\";\\nimport Modal from \\\"./containers/Modal/Modal.js\\\";\\n\\nclass App extends Component {\\n\\n  componentDidMount() {\\n    this.props.onAuth();\\n  }\\n  render() {\\n    let chatScreen = null;\\n    if (this.props.isLoggedIn){\\n      if (this.props.incomingCall){\\n      chatScreen = (\\n        <React.Fragment>\\n          <Modal show><Call callType={this.props.callType}/></Modal>\\n          <ChatScreen />\\n        </React.Fragment>\\n      );\\n    } else {\\n      chatScreen = <ChatScreen />\\n    }\\n      \\n  }\\n    return (\\n        <div>\\n          <Navbar />\\n          <div className=\\\"container\\\">\\n         {chatScreen}\\n          <Switch>\\n            <Route path=\\\"/register\\\" component={Register} />\\n            <Route path=\\\"/login\\\" component={Login} />\\n            <Route path=\\\"/logout\\\" component={Logout} />\\n            </Switch>\\n          </div>\\n        </div>\\n    );\\n  }\\n}\\nconst mapStateToProps = state => {\\n  return {\\n    isLoggedIn: state.auth.token !== null,\\n    incomingCall: state.call.incomingCall,\\n    callType: state.call.callType\\n  }\\n}\\nconst mapDispatchToProps = dispatch => {\\n  return {\\n    onAuth: () => dispatch(actionCreators.checkAuthState())\\n  }\\n}\\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import * as actionTypes from '../actions/actions';\\n\\nconst initialState = {\\n    token: null,\\n    userId: null,\\n    registrationSuccess: false\\n}\\n\\nconst authReducer = (state = initialState, action) => {\\n    switch (action.type) {\\n        case actionTypes.LOG_IN:\\n           return {\\n               ...state, token: action.token, userId: action.userId\\n           }\\n        case actionTypes.LOG_OUT:\\n            return {\\n                ...state, token: null, userId: null\\n            }\\n        case actionTypes.ON_AUTH:\\n            return {\\n                ...state, token: action.token, userId: action.userId\\n            }\\n        case actionTypes.ON_REGISTER: \\n            return {\\n                ...state, registrationSuccess: true\\n            }\\n        default: \\n            return state;\\n    }\\n}\\n\\nexport default authReducer;\",\"import * as actionTypes from '../actions/actions';\\n\\nconst initialState = {\\n    channel: null,\\n    remoteStream: null,\\n    localStream: null,\\n    incomingCall: false,\\n    callType: null\\n}\\n\\nconst callReducer = (state = initialState, action) => {\\n    \\n    switch(action.type){\\n        case actionTypes.PREPARE_CALLER: \\n            \\n            return {\\n                ...state,\\n                channel: action.channel,    \\n            }\\n        case actionTypes.ON_TRACK: \\n            \\n            return {\\n                ...state, remoteStream: action.remoteStream\\n            }\\n        case actionTypes.ON_LOCAL_STREAM:\\n            return {\\n                ...state, localStream: action.stream\\n            }\\n        case actionTypes.ON_INCOMING_CALL:\\n            return {\\n                ...state, incomingCall: true, callType: action.callType\\n            }\\n        default: \\n        return state;\\n    }\\n}\\n\\nexport default callReducer;\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport { BrowserRouter } from 'react-router-dom';\\nimport { createStore, applyMiddleware, compose, combineReducers  } from 'redux';\\nimport { Provider } from 'react-redux';\\nimport thunk from 'redux-thunk';\\nimport * as serviceWorker from './serviceWorker';\\nimport authReducer from './store/reducers/authReducer'\\nimport callReducer from './store/reducers/callReducer';\\n\\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\\nconst rootReducer = combineReducers({\\n    auth: authReducer,\\n    call: callReducer\\n})\\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\\n\\nReactDOM.render(<Provider store={store}><BrowserRouter><App /></BrowserRouter></Provider>, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Navbar\\\":\\\"Navbar_Navbar__tDvdN\\\",\\\"navIcon\\\":\\\"Navbar_navIcon__1kJW1\\\",\\\"fa\\\":\\\"Navbar_fa__2vbZD\\\",\\\"NavItem\\\":\\\"Navbar_NavItem__14sqT\\\",\\\"Brand\\\":\\\"Navbar_Brand__27PrZ\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"ChatScreen\\\":\\\"ChatScreen_ChatScreen__3Tcnf\\\",\\\"ContactsPane\\\":\\\"ChatScreen_ContactsPane__3_giR\\\",\\\"MenuBar\\\":\\\"ChatScreen_MenuBar__2gb4-\\\",\\\"Chat\\\":\\\"ChatScreen_Chat__FFyBy\\\",\\\"Msgs\\\":\\\"ChatScreen_Msgs__2Sz2I\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"SideDrawer\\\":\\\"SideDrawer_SideDrawer__1ggW0\\\",\\\"Open\\\":\\\"SideDrawer_Open__1771J\\\",\\\"Close\\\":\\\"SideDrawer_Close__3Z4OA\\\",\\\"PP\\\":\\\"SideDrawer_PP__1bggk\\\",\\\"RoomsList\\\":\\\"SideDrawer_RoomsList__2x0Up\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Input\\\":\\\"Input_Input__3LrFB\\\",\\\"Label\\\":\\\"Input_Label__q8rS5\\\",\\\"InputElement\\\":\\\"Input_InputElement__CAcfS\\\",\\\"Invalid\\\":\\\"Input_Invalid__103EA\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Chat\\\":\\\"Chat_Chat__18Fzf\\\",\\\"ByCurrentUser\\\":\\\"Chat_ByCurrentUser__HceOx\\\",\\\"Sender\\\":\\\"Chat_Sender__eNM59\\\",\\\"Text\\\":\\\"Chat_Text__8P2MA\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Call\\\":\\\"Call_Call__1I6XS\\\",\\\"RemoteVideo\\\":\\\"Call_RemoteVideo__25MVy\\\",\\\"LocalVideo\\\":\\\"Call_LocalVideo__3-qyV\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Button\\\":\\\"Button_Button__1XH8s\\\",\\\"Success\\\":\\\"Button_Success__3uO7K\\\",\\\"Danger\\\":\\\"Button_Danger__2bJ3t\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Contact\\\":\\\"Contact_Contact__2CsYQ\\\",\\\"Active\\\":\\\"Contact_Active__1-Q53\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"ChatScreenBar\\\":\\\"ChatScreenBar_ChatScreenBar__2Mw9C\\\",\\\"FA\\\":\\\"ChatScreenBar_FA__7xQmT\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"RegisterBox\\\":\\\"Register_RegisterBox__3FBlA\\\",\\\"registerBox\\\":\\\"Register_registerBox__2ypBO\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Login\\\":\\\"Login_Login__1gj_k\\\"};\",\"module.exports = __webpack_public_path__ + \\\"static/media/p37605.8335e87d.png\\\";\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"JoinableRoom\\\":\\\"JoinableRoom_JoinableRoom__2ES6M\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Modal\\\":\\\"Modal_Modal__92gar\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Backdrop\\\":\\\"Backdrop_Backdrop__152Ft\\\"};\",\"// extracted by mini-css-extract-plugin\\nmodule.exports = {\\\"Spinner\\\":\\\"Spinner_Spinner__3t-a_\\\"};\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(41),c=a.n(o),l=(a(59),a(3)),i=a(4),s=a(6),u=a(5),m=a(7),d=a(108),p=a(105),h=a(107),f=a(9),g=a(8),v=a(13),b=a(43),C=a.n(b),E=a(44),_=a.n(E).a.create({baseURL:\"https://piedpiperchat.herokuapp.com/\"}),y=function(e){return function(t){setTimeout(function(){t(S())},1e3*e)}},w=function(e){return{type:\"LOG_IN_FAILED\",error:e}},S=function(){return{type:\"LOG_OUT\"}},O=a(45),j=a.n(O),I=localStorage.getItem(\"userId\"),N=localStorage.getItem(\"token\");console.log(lt);var k,R,T,L=new j.a(\"f790521ed52ae6aaf77e\",{cluster:\"eu\",forceTLS:!0,authEndpoint:\"https://piedpiperchat.herokuapp.com/pusher/auth\",auth:{params:{user:I},headers:{\"x-auth-token\":N}}}).subscribe(\"presence-videocall\"),x=new window.RTCPeerConnection({iceServers:[{urls:\"stun:stun.l.google.com:19302\"}]}),P=localStorage.getItem(\"userId\"),M=null;L.bind(\"pusher:subscription_succeeded\",function(e){}),L.bind(\"pusher:member_added\",function(e){console.log(e)}),L.bind(\"pusher:member_removed\",function(e){e.id===k&&alert(\"call Ended\")}),L.bind(\"client-candidate\",function(e){e.room===k&&F(new RTCIceCandidate(e.candidate))}),L.bind(\"client-sdp\",function(e){if(e.room===P){if(lt.dispatch({type:\"ON_INCOMING_CALL\",callType:e.callType}),!window.confirm(\"You have a \".concat(e.callType,\" call from \").concat(e.from,\": Would you like to answer?\")))return L.trigger(\"client-reject\",{room:e.room,rejected:P});k=e.room,R=e.sdp,M=\"answerCall\",A()}}),L.bind(\"client-answer\",function(e){if(console.log(e.room,k),e.room===k){console.log(\"answer received\");var t=new RTCSessionDescription(e.sdp);G(t)}});var A=function(){B().then(function(e){if(lt.dispatch(function(e){return{type:\"ON_LOCAL_STREAM\",stream:e}}(e)),e.getTracks().forEach(function(t){x.addTrack(t,e)}),M){var t=new RTCSessionDescription(R);G(t),J()}else q()}).catch(function(e){console.log(\"an error occured\",e)})},B=function(){return navigator.mediaDevices.getUserMedia({video:\"video\"===T&&{width:160,height:120,frameRate:15},audio:!0})},D=function(e){return{type:\"ON_TRACK\",remoteStream:e.streams[0]}},F=function(e){return x.addIceCandidate(e)},V=function(e,t){t.candidate&&L.trigger(\"client-candidate\",{candidate:t.candidate,room:k})},U=function(e){return x.setLocalDescription(e)},G=function(e){return x.setRemoteDescription(e)},J=function(){x.createAnswer().then(function(e){var t=new RTCSessionDescription(e);U(t),L.trigger(\"client-answer\",{sdp:e,room:k})})},q=function(){x.createOffer({offerToReceiveVideo:!0}).then(function(e){var t=new RTCSessionDescription(e);U(t),L.trigger(\"client-sdp\",{sdp:e,room:k,from:P,callType:T})}).catch(function(e){return console.log(e)})},z=a(19),H=a.n(z),W=function(e){var t=null,a=[H.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(H.a.Invalid),e.elementType){case\"input\":t=r.a.createElement(\"input\",Object.assign({className:a.join(\" \")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case\"textarea\":t=r.a.createElement(\"textarea\",Object.assign({className:a.join(\" \")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case\"select\":t=r.a.createElement(\"select\",{className:a.join(\" \"),value:e.value,onChange:e.changed},e.elementConfig.options.map(function(e){return r.a.createElement(\"option\",{key:e.value,value:e.value},e.displayValue)}));break;default:t=r.a.createElement(\"input\",Object.assign({className:H.a.InputElement},e.elementConfig,{value:e.value,onChange:e.changed}))}return r.a.createElement(\"div\",{className:H.a.Input},r.a.createElement(\"label\",{className:H.a.Label},e.label),t)},X=function(e,t){return Object(g.a)({},e,t)},$=function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=\"\"!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\\d+$/.test(e)&&a}return a},K=a(29),Q=a.n(K),Z=function(e){return r.a.createElement(\"button\",{onClick:e.clicked,disabled:e.disabled,className:[Q.a.Button,Q.a[e.btnType]].join(\" \")},e.children)},Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{name:{elementType:\"input\",elementConfig:{placeholder:\"Enter your full name\",type:\"text\"},value:\"\",validation:{required:!0},valid:!1,touched:!1},email:{elementType:\"input\",elementConfig:{placeholder:\"Enter your email\",type:\"email\"},value:\"\",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},username:{elementType:\"input\",elementConfig:{placeholder:\"Enter username\",type:\"text\"},value:\"\",validation:{required:!0},valid:!1,touched:!1},password:{elementType:\"input\",elementConfig:{placeholder:\"Enter your password\",type:\"password\"},value:\"\",validation:{required:!0,minLength:8},valid:!1,touched:!1},password2:{elementType:\"input\",elementConfig:{placeholder:\"Confirm your password\",type:\"password\"},value:\"\",validation:{required:!0,minLength:8,isEqual:!1},valid:!1,touched:!1}},formIsValid:!1},a.onChange=function(e,t){var n=e.target.value,r=X(a.state.controls[t],{value:n,touched:!0,valid:$(n,a.state.controls[t].validation)}),o=X(a.state.controls,Object(v.a)({},t,r)),c=!0;for(var l in o)c=o[l].valid&&c;a.setState({controls:o,formIsValid:c})},a.onSubmit=function(e){e.preventDefault();var t=a.state.controls,n=t.password,r=t.password2;if(console.log(n.value,r.value),n.value!==r.value)alert(\"passwords do not match\");else{var o=Object(g.a)({},a.state.controls),c={};for(var l in o)c[l]=o[l].value;a.props.onRegister(c)}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"componentDidUpdate\",value:function(){this.props.registrationSuccess&&this.props.history.push(\"/login\")}},{key:\"render\",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map(function(t){return r.a.createElement(W,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(a){return e.onChange(a,t.id)}})});return r.a.createElement(\"div\",{className:C.a.RegisterBox},r.a.createElement(\"h2\",null,\" Register \"),r.a.createElement(\"form\",{onSubmit:this.onSubmit},n,r.a.createElement(Z,{btnType:\"Success\",disabled:!this.state.formIsValid},\"Register\")))}}]),t}(n.Component),ee=Object(f.b)(function(e){return{registrationSuccess:e.auth.registrationSuccess}},function(e){return{onRegister:function(t){return e(function(e){return console.log(e),function(t){_.post(\"/register\",e).then(function(e){t({type:\"ON_REGISTER\"})}).catch(function(e){t(function(e){return{type:\"ON_REGISTRATION_FAILED\",error:e}}(e))})}}(t))}}})(Y),te=a(109),ae=a(46),ne=a.n(ae),re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={controls:{email:{elementType:\"input\",elementConfig:{placeholder:\"Enter your email\",type:\"email\"},value:\"\",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:\"input\",elementConfig:{placeholder:\"Enter your password\",type:\"password\"},value:\"\",validation:{required:!0,minLength:8},valid:!1,touched:!1}},formIsValid:!1},a.onChange=function(e,t){var n=e.target.value,r=X(a.state.controls[t],{value:n,touched:!0,valid:$(n,a.state.controls[t].validation)}),o=X(a.state.controls,Object(v.a)({},t,r)),c=!0;for(var l in o)c=o[l].valid&&c;a.setState({controls:o,formIsValid:c})},a.onSubmit=function(e){e.preventDefault();var t=Object(g.a)({},a.state.controls),n={};for(var r in t)n[r]=t[r].value;a.props.onLogIn(n)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){var e=this,t=null;this.props.isLoggedIn&&(t=r.a.createElement(te.a,{to:\"/\"}));var a=[];for(var n in this.state.controls)a.push({id:n,config:this.state.controls[n]});var o=a.map(function(t){return r.a.createElement(W,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(a){return e.onChange(a,t.id)}})});return r.a.createElement(\"div\",{className:ne.a.Login},t,r.a.createElement(\"h2\",null,\" Login \"),r.a.createElement(\"form\",{onSubmit:this.onSubmit},o,r.a.createElement(Z,{btnType:\"Success\",disabled:!this.state.formIsValid},\"Log in\")))}}]),t}(n.Component),oe=Object(f.b)(function(e){return{isLoggedIn:null!==e.auth.token}},function(e){return{onLogIn:function(t){return e(function(e){return function(t){_.post(\"/login\",e).then(function(e){var a=e.data,n=a.userId,r=a.token,o=a.expiresIn,c=new Date((new Date).getTime()+1e3*o);localStorage.setItem(\"token\",r),localStorage.setItem(\"userId\",n),localStorage.setItem(\"expiresIn\",c),t(function(e,t){return{type:\"LOG_IN\",token:e,userId:t}}(e.data.token,n)),t(y(o))}).catch(function(e){t(w(e))})}}(t))}}})(re),ce=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"componentDidMount\",value:function(){this.props.logout(),this.props.history.push(\"/\")}},{key:\"render\",value:function(){return r.a.createElement(\"div\",null)}}]),t}(n.Component),le=Object(f.b)(null,function(e){return{logout:function(){return e(function(e){localStorage.removeItem(\"token\"),localStorage.removeItem(\"userId\"),localStorage.removeItem(\"expiresIn\"),e(S())})}}})(ce),ie=a(104),se=a(15),ue=a.n(se),me=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){var e=r.a.createElement(\"ul\",null,r.a.createElement(\"li\",null,r.a.createElement(ie.a,{to:\"/\"},r.a.createElement(\"div\",{className:[ue.a.NavItem,ue.a.Brand].join(\" \")},r.a.createElement(\"span\",{\"data-text\":\"PiperChat\"},\" \"),\"PiperChat\"))),r.a.createElement(\"li\",null,r.a.createElement(ie.a,{to:\"/login\"},r.a.createElement(\"div\",{className:ue.a.NavItem},r.a.createElement(\"span\",{\"data-text\":\"Login\"},\" \"),\"Login\"))),r.a.createElement(\"li\",null,r.a.createElement(ie.a,{to:\"/register\"},r.a.createElement(\"div\",{className:ue.a.NavItem},r.a.createElement(\"span\",{\"data-text\":\"Register\"},\" \"),\"Register\"))));return this.props.isLoggedIn&&(e=r.a.createElement(\"ul\",null,r.a.createElement(\"li\",null,r.a.createElement(ie.a,{to:\"/\"},r.a.createElement(\"div\",{className:ue.a.NavItem},r.a.createElement(\"span\",{\"data-text\":\"PiperChat\"},\" \"),\"PiperChat\"))),r.a.createElement(\"li\",null,r.a.createElement(ie.a,{to:\"/logout\"},r.a.createElement(\"div\",{className:ue.a.NavItem},r.a.createElement(\"span\",{\"data-text\":\"Logout\"},\" \"),\"Logout\"))))),r.a.createElement(\"div\",{className:ue.a.Navbar},e)}}]),t}(n.Component),de=Object(f.b)(function(e){return{isLoggedIn:null!==e.auth.token}})(me),pe=a(30),he=a(31),fe=a.n(he),ge=a(47),ve=a.n(ge),be=function(e){var t=[fe.a.Contact];return e.Active&&t.push(fe.a.Active),r.a.createElement(\"div\",{className:t.join(\" \"),onClick:e.clicked},r.a.createElement(\"img\",{src:ve.a,alt:\"\"}),r.a.createElement(\"div\",null,r.a.createElement(\"p\",null,e.name),r.a.createElement(\"p\",null,e.lastMessage)))},Ce=a(20),Ee=a.n(Ce),_e=function(e){var t=[Ee.a.Chat];return e.byCurrentUser&&(t=[Ee.a.ByCurrentUser]),r.a.createElement(\"div\",{className:t.join(\"\")},r.a.createElement(\"li\",null,r.a.createElement(\"span\",{className:Ee.a.Sender},e.sender),r.a.createElement(\"br\",null),r.a.createElement(\"span\",{className:Ee.a.Text},e.text)))},ye=a(17),we=a.n(ye),Se=a(18),Oe=a.n(Se),je=a(48),Ie=a.n(je),Ne=function(e){return r.a.createElement(\"span\",{className:Ie.a.JoinableRoom},r.a.createElement(\"img\",{src:e.groupImage,alt:\"\"}),r.a.createElement(\"span\",null,r.a.createElement(\"p\",null,e.name),r.a.createElement(\"p\",null,e.lastMessage)))},ke=function(e){return r.a.createElement(r.a.Fragment,null,e.joinableRooms.map(function(e,t){return r.a.createElement(Ne,{key:t,groupImage:e.groupImage,name:e.name,lastMessage:e.lastMessage})}))},Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showCreateForm:!1,showNewChatForm:!1,groupName:\"\",participants:[],potentialParticipants:[],newGroupChatParticipants:{},privateChatParticipant:\"\",joinableRooms:[],ShowJoinableRoomsList:!1},a.createNewGroupHandler=function(){var e=a.props.user.rooms.filter(function(e){return e.isPrivate}),t={};e.forEach(function(e){return t[e.name]=!1}),a.setState(function(a){return{showCreateForm:!a.showCreateForm,potentialParticipants:e,ShowJoinableRoomsList:!1,showNewChatForm:!1,newGroupChatParticipants:t}})},a.onChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.onCreateNewGroup=function(e){e.preventDefault();var t=Object(g.a)({},a.state.newGroupChatParticipants),n=Object.keys(t).filter(function(e){return t[e]});a.props.user.createRoom({name:a.state.groupName,private:!1,addUserIds:n,customData:{foo:42}}).then(function(e){console.log(\"Created room called \".concat(e.name)),a.setState({groupName:\"\",newGroupChatParticipants:{}})}).catch(function(e){console.log(\"Error creating room \".concat(e))})},a.startNewChatHandler=function(){a.setState(function(e){return{showNewChatForm:!e.showNewChatForm,ShowJoinableRoomsList:!1,showCreateForm:!1}})},a.onStartNewChat=function(e){e.preventDefault(),_.get(\"/search/\".concat(a.state.privateChatParticipant),{headers:{\"x-auth-token\":a.props.token}}).then(function(e){a.props.user.createRoom({name:a.state.privateChatParticipant,private:!0,addUserIds:[a.state.privateChatParticipant],customData:{displayImage:e.data.avatar}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})},a.joinGroup=function(){a.props.user.getJoinableRooms().then(function(e){console.log(e),a.setState(function(t){return{joinableRooms:e,ShowJoinableRoomsList:!t.ShowJoinableRoomsList,showCreateForm:!1,showNewChatForm:!1}})}).catch(function(e){console.log(\"Error getting joinable rooms: \".concat(e))})},a.onPPChange=function(e){var t=e.target,n=t.name,r=t.checked,o=Object(g.a)({},a.state.newGroupChatParticipants);o[n]=r,a.setState({newGroupChatParticipants:o})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){var e=this,t=[Oe.a.SideDrawer,Oe.a.Close];return this.props.show&&(t=[Oe.a.SideDrawer,Oe.a.Open]),r.a.createElement(\"div\",{className:t.join(\" \")},r.a.createElement(\"div\",{onClick:this.createNewGroupHandler},\"Create a new group\"),r.a.createElement(\"form\",{onSubmit:this.onCreateNewGroup,style:{display:this.state.showCreateForm?\"block\":\"none\"}},r.a.createElement(\"input\",{onChange:this.onChange,type:\"text\",name:\"groupName\",value:this.state.groupName,placeholder:\"Enter group name\"}),r.a.createElement(\"h3\",null,\"Add participants\"),this.state.potentialParticipants.map(function(t,a){return r.a.createElement(\"span\",{key:a,className:Oe.a.PP},r.a.createElement(\"input\",{onChange:e.onPPChange,type:\"checkbox\",name:t.name,checked:e.state.newGroupChatParticipants[t.name]}),r.a.createElement(\"label\",{htmlFor:t.name},t.name))}),r.a.createElement(\"button\",null,\"Submit\")),r.a.createElement(\"div\",{onClick:this.joinGroup},\"Join a group\"),r.a.createElement(\"span\",{style:{display:this.state.ShowJoinableRoomsList?\"block\":\"none\"},className:Oe.a.RoomsList},r.a.createElement(ke,{joinableRooms:this.state.joinableRooms})),r.a.createElement(\"div\",{onClick:this.startNewChatHandler},\"Start a new chat\"),r.a.createElement(\"form\",{onSubmit:this.onStartNewChat,style:{display:this.state.showNewChatForm?\"block\":\"none\"}},r.a.createElement(\"input\",{onChange:this.onChange,type:\"text\",name:\"privateChatParticipant\",placeholder:\"Who do you wanna chat with?\"}),r.a.createElement(\"button\",null,\"Submit\")))}}]),t}(n.Component),Te=Object(f.b)(function(e){return{token:e.auth.token,userId:e.auth.userId}})(Re),Le=a(32),xe=a.n(Le),Pe=a(49),Me=a.n(Pe),Ae=a(50),Be=a.n(Ae),De=function(e){return r.a.createElement(\"div\",{onClick:e.clicked,className:Be.a.Backdrop})},Fe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){var e=null;return this.props.show&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{show:this.props.show,clicked:this.props.backdropClicked}),r.a.createElement(\"div\",{className:Me.a.Modal},this.props.children))),e}}]),t}(n.Component),Ve=a(24),Ue=a.n(Ve),Ge=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:null,room:\"\"},a.endCall=function(){a.setState({room:void 0});var e=!0,t=!1,n=void 0;try{for(var r,o=a.localUserMedia.getTracks()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.stop()}}catch(c){t=!0,n=c}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}a.toggleEndCallButton()},a.endCurrentCall=function(){a.props.channel.trigger(\"client-endcall\",{room:a.state.room}),a.endCall()},a.toggleEndCallButton=function(){},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"componentDidMount\",value:function(){var e=this;this.props.callUser(this.props.callTo,this.props.callType),alert(this.props.callType),this.props.channel.bind(\"client-reject\",function(t){t.room===e.state.room&&(console.log(\"Call declined\"),alert(\"call to \"+t.rejected+\"was politely declined\"),e.endCall())}),this.props.channel.bind(\"client-endcall\",function(t){t.room===e.state.room&&(console.log(\"Call Ended\"),e.endCall())})}},{key:\"componentDidUpdate\",value:function(){\"video\"===this.props.callType?(this.localVideoRef.srcObject=this.props.localStream,this.remoteVideoRef.srcObject=this.props.remoteStream):(this.localAudioRef.srcObject=this.props.localStream,this.remoteAudioRef.srcObject=this.props.remoteStream)}},{key:\"render\",value:function(){var e=this,t=null;return t=\"video\"===this.props.callType?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"video\",{autoPlay:!0,muted:!0,src:this.props.localStream,className:Ue.a.LocalVideo,ref:function(t){return e.localVideoRef=t}}),r.a.createElement(\"video\",{autoPlay:!0,src:this.props.remoteStream,className:Ue.a.remoteVideo,ref:function(t){return e.remoteVideoRef=t}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"audio\",{autoPlay:!0,src:this.props.localStream,ref:function(t){return e.localAudioRef=t}}),r.a.createElement(\"audio\",{autoPlay:!0,src:this.props.remoteStream,ref:function(t){return e.remoteAudioRef=t}})),r.a.createElement(\"div\",{className:Ue.a.Call},t)}}]),t}(n.Component),Je=Object(f.b)(function(e){return{userId:e.auth.userId,channel:e.call.channel,remoteStream:e.call.remoteStream,localStream:e.call.localStream}},function(e){return{callUser:function(t,a){return e(function(e,t){return k=e,T=t,function(e){A()}}(t,a))}}})(Ge),qe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,isVideo:!1,callType:\"\"},a.onVideoCallInit=function(){a.setState({showModal:!0,callType:\"video\",isVideo:!0})},a.onVoiceCallInit=function(){a.setState({showModal:!0,isVideo:!1,callType:\"audio\"})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:xe.a.ChatScreenBar},r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:\"https://ichef.bbci.co.uk/images/ic/720x405/p0517py6.jpg\",alt:\"\"}),r.a.createElement(\"span\",null,this.props.room.name)),r.a.createElement(\"div\",{className:xe.a.FA},this.props.room.isPrivate&&r.a.createElement(r.a.Fragment,null,r.a.createElement(\"i\",{onClick:this.onVideoCallInit,className:\"fa fa-video\"}),r.a.createElement(\"i\",{onClick:this.onVoiceCallInit,className:\"fa fa-phone\"})),r.a.createElement(\"i\",{className:\"fa fa-ellipsis-h\"})),r.a.createElement(Fe,{backdropClicked:function(){return e.setState({showModal:!1})},show:this.state.showModal},this.state.callType?r.a.createElement(Je,{callTo:this.props.room.name,callType:this.state.callType}):null))}}]),t}(n.Component),ze=a(51),He=a.n(ze),We=function(e){return r.a.createElement(\"div\",{className:He.a.Spinner},r.a.createElement(\"div\",null),r.a.createElement(\"div\",null))},Xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contacts:[],room:null,text:\"\",messages:[],showSideDrawer:!1},a.scrollToBottom=function(){a.scrollRef&&a.state.messages.length>0&&a.scrollRef.children[a.scrollRef.children.length-1].scrollIntoView(\"smooth\")},a.getRooms=function(){a.setState({contacts:a.currentUser.rooms}),a.state.contacts.map(function(e){return a.currentUser.subscribeToRoom({roomId:e.id,hooks:{onMessage:function(e){a.getMessages(e.room),a.scrollToBottom()}},messageLimit:100})})},a.getMessages=function(e){a.setState({room:e}),a.currentUser.fetchMessages({roomId:e.id,direction:\"older\",limit:100}).then(function(e){a.setState({messages:e}),a.scrollToBottom()}).catch(function(e){console.log(\"Error fetching messages: \".concat(e))})},a.onChange=function(e){a.setState({text:e.target.value})},a.onSubmit=function(e){e.preventDefault(),a.currentUser.sendMessage({text:a.state.text,roomId:a.state.room.id}),a.setState({text:\"\"})},a.toggleSideDrawer=function(){a.setState(function(e){return{showSideDrawer:!e.showSideDrawer}})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"componentDidMount\",value:function(){var e=this;new pe.ChatManager({instanceLocator:\"v1:us1:64b7dbdb-3e59-4fad-9823-83add90cba65\",userId:this.props.userId,tokenProvider:new pe.TokenProvider({url:\"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/64b7dbdb-3e59-4fad-9823-83add90cba65/token\"})}).connect({onAddedToRoom:function(t){e.getRooms(),e.setState({showSideDrawer:!1,room:t}),e.getMessages(t)}}).then(function(t){e.currentUser=t,e.getRooms()}).catch(function(e){return console.log(e)}),this.scrollToBottom(),this.props.getCallerReady()}},{key:\"render\",value:function(){var e=this,t=r.a.createElement(\"div\",{className:we.a.Chat});return t=this.state.room?r.a.createElement(\"div\",{className:we.a.Chat},r.a.createElement(qe,{room:this.state.room}),r.a.createElement(\"div\",{className:we.a.Msgs,ref:function(t){e.scrollRef=t}},this.state.messages.map(function(t){return r.a.createElement(_e,{sender:t.senderId,byCurrentUser:e.props.userId===t.senderId,text:t.text,key:t.id})})),r.a.createElement(\"form\",{onSubmit:this.onSubmit},r.a.createElement(\"input\",{onChange:this.onChange,value:this.state.text,name:\"text\",type:\"text\",placeholder:\"Enter message\"}))):r.a.createElement(Fe,{show:!0},r.a.createElement(We,null)),r.a.createElement(\"div\",{className:we.a.ChatScreen},r.a.createElement(\"div\",{className:we.a.ContactsPane},r.a.createElement(Te,{show:this.state.showSideDrawer,user:this.currentUser}),r.a.createElement(\"div\",{className:we.a.MenuBar},r.a.createElement(\"i\",{onClick:this.toggleSideDrawer,className:\"fa fa-bars\"})),r.a.createElement(\"h1\",{style:{textAlign:\"center\"}},\"Contacts\"),this.state.room&&this.state.contacts.map(function(t){return r.a.createElement(be,{key:t.id,name:t.name,Active:t.id===e.state.room.id,clicked:function(){return e.getMessages(t)}})})),t)}}]),t}(n.Component),$e=Object(f.b)(function(e){return{userId:e.auth.userId,channel:e.call.channel}},function(e){return{getCallerReady:function(){return e(function(e){e({type:\"PREPARE_CALLER\",channel:L}),x.onicecandidate=function(e){e.candidate&&V(x,e)},x.ontrack=function(t){e(D(t))}})}}})(Xe),Ke=(a(100),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:\"componentDidMount\",value:function(){this.props.onAuth()}},{key:\"render\",value:function(){var e=null;return this.props.isLoggedIn&&(e=this.props.incomingCall?r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{show:!0},r.a.createElement(Je,{callType:this.props.callType})),r.a.createElement($e,null)):r.a.createElement($e,null)),r.a.createElement(\"div\",null,r.a.createElement(de,null),r.a.createElement(\"div\",{className:\"container\"},e,r.a.createElement(d.a,null,r.a.createElement(p.a,{path:\"/register\",component:ee}),r.a.createElement(p.a,{path:\"/login\",component:oe}),r.a.createElement(p.a,{path:\"/logout\",component:le}))))}}]),t}(n.Component)),Qe=Object(h.a)(Object(f.b)(function(e){return{isLoggedIn:null!==e.auth.token,incomingCall:e.call.incomingCall,callType:e.call.callType}},function(e){return{onAuth:function(){return e(function(e){var t=localStorage.getItem(\"token\");if(t){var a=new Date(localStorage.getItem(\"expiresIn\"));a<=new Date?e(S):(e(function(e,t){return{type:\"ON_AUTH\",token:e,userId:t}}(t,localStorage.getItem(\"userId\"))),e(y((a.getTime()-(new Date).getTime())/1e3)))}else e(S())})}}})(Ke)),Ze=a(106),Ye=a(16),et=a(53);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt={token:null,userId:null,registrationSuccess:!1},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"LOG_IN\":return Object(g.a)({},e,{token:t.token,userId:t.userId});case\"LOG_OUT\":return Object(g.a)({},e,{token:null,userId:null});case\"ON_AUTH\":return Object(g.a)({},e,{token:t.token,userId:t.userId});case\"ON_REGISTER\":return Object(g.a)({},e,{registrationSuccess:!0});default:return e}},nt={channel:null,remoteStream:null,localStream:null,incomingCall:!1,callType:null},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"PREPARE_CALLER\":return Object(g.a)({},e,{channel:t.channel});case\"ON_TRACK\":return Object(g.a)({},e,{remoteStream:t.remoteStream});case\"ON_LOCAL_STREAM\":return Object(g.a)({},e,{localStream:t.stream});case\"ON_INCOMING_CALL\":return Object(g.a)({},e,{incomingCall:!0,callType:t.callType});default:return e}};a.d(t,\"store\",function(){return lt});var ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ye.d,ct=Object(Ye.c)({auth:at,call:rt}),lt=Object(Ye.e)(ct,ot(Object(Ye.a)(et.a)));c.a.render(r.a.createElement(f.a,{store:lt},r.a.createElement(Ze.a,null,r.a.createElement(Qe,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},15:function(e,t,a){e.exports={Navbar:\"Navbar_Navbar__tDvdN\",navIcon:\"Navbar_navIcon__1kJW1\",fa:\"Navbar_fa__2vbZD\",NavItem:\"Navbar_NavItem__14sqT\",Brand:\"Navbar_Brand__27PrZ\"}},17:function(e,t,a){e.exports={ChatScreen:\"ChatScreen_ChatScreen__3Tcnf\",ContactsPane:\"ChatScreen_ContactsPane__3_giR\",MenuBar:\"ChatScreen_MenuBar__2gb4-\",Chat:\"ChatScreen_Chat__FFyBy\",Msgs:\"ChatScreen_Msgs__2Sz2I\"}},18:function(e,t,a){e.exports={SideDrawer:\"SideDrawer_SideDrawer__1ggW0\",Open:\"SideDrawer_Open__1771J\",Close:\"SideDrawer_Close__3Z4OA\",PP:\"SideDrawer_PP__1bggk\",RoomsList:\"SideDrawer_RoomsList__2x0Up\"}},19:function(e,t,a){e.exports={Input:\"Input_Input__3LrFB\",Label:\"Input_Label__q8rS5\",InputElement:\"Input_InputElement__CAcfS\",Invalid:\"Input_Invalid__103EA\"}},20:function(e,t,a){e.exports={Chat:\"Chat_Chat__18Fzf\",ByCurrentUser:\"Chat_ByCurrentUser__HceOx\",Sender:\"Chat_Sender__eNM59\",Text:\"Chat_Text__8P2MA\"}},24:function(e,t,a){e.exports={Call:\"Call_Call__1I6XS\",RemoteVideo:\"Call_RemoteVideo__25MVy\",LocalVideo:\"Call_LocalVideo__3-qyV\"}},29:function(e,t,a){e.exports={Button:\"Button_Button__1XH8s\",Success:\"Button_Success__3uO7K\",Danger:\"Button_Danger__2bJ3t\"}},31:function(e,t,a){e.exports={Contact:\"Contact_Contact__2CsYQ\",Active:\"Contact_Active__1-Q53\"}},32:function(e,t,a){e.exports={ChatScreenBar:\"ChatScreenBar_ChatScreenBar__2Mw9C\",FA:\"ChatScreenBar_FA__7xQmT\"}},43:function(e,t,a){e.exports={RegisterBox:\"Register_RegisterBox__3FBlA\",registerBox:\"Register_registerBox__2ypBO\"}},46:function(e,t,a){e.exports={Login:\"Login_Login__1gj_k\"}},47:function(e,t,a){e.exports=a.p+\"static/media/p37605.8335e87d.png\"},48:function(e,t,a){e.exports={JoinableRoom:\"JoinableRoom_JoinableRoom__2ES6M\"}},49:function(e,t,a){e.exports={Modal:\"Modal_Modal__92gar\"}},50:function(e,t,a){e.exports={Backdrop:\"Backdrop_Backdrop__152Ft\"}},51:function(e,t,a){e.exports={Spinner:\"Spinner_Spinner__3t-a_\"}},54:function(e,t,a){e.exports=a(102)},59:function(e,t,a){}},[[54,2,1]]]);","extractedComments":[]}
{"ast":null,"code":"import _defineProperty from \"/Users/gotzil/Downloads/social-media/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/gotzil/Downloads/social-media/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gotzil/Downloads/social-media/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gotzil/Downloads/social-media/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gotzil/Downloads/social-media/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gotzil/Downloads/social-media/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gotzil/Downloads/social-media/client/src/components/UI/SideDrawer/SideDrawer.js\";\nimport React, { Component } from 'react';\nimport classes from './SideDrawer.module.css';\nimport axios from '../../../Axios';\nimport { connect } from 'react-redux';\n\nvar SideDrawer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SideDrawer, _Component);\n\n  function SideDrawer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SideDrawer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SideDrawer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showCreateForm: false,\n      showNewChatForm: false,\n      groupName: '',\n      participants: [],\n      potentialParticipants: [],\n      privateChatParticipant: ''\n    };\n\n    _this.createNewGroupHandler = function () {\n      var potentialParticipants = _this.props.user.rooms.filter(function (u) {\n        return u.isPrivate;\n      });\n\n      _this.setState({\n        showCreateForm: true,\n        potentialParticipants: potentialParticipants\n      });\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onCreateNewGroup = function (event) {\n      event.preventDefault();\n      console.log(event);\n    };\n\n    _this.startNewChatHandler = function () {\n      _this.setState({\n        showNewChatForm: true\n      });\n    };\n\n    _this.onStartNewChat = function (event) {\n      event.preventDefault();\n      axios.get(\"/search/\".concat(_this.state.privateChatParticipant), {\n        headers: {\n          'x-auth-token': _this.props.token\n        }\n      }).then(function (res) {\n        console.log(_this.props.user.rooms); //     this.props.user.createRoom({\n        //     creatorId: this.props.userId,\n        //     name: this.state.privateChatParticipant,\n        //     isPrivate: true,\n        //     userIds: [this.state.privateChatParticipant],\n        //     customData: {displayImage: res.data.avatar}     \n        // })\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SideDrawer, [{\n    key: \"render\",\n    value: function render() {\n      var sideDrawer = null;\n\n      if (this.props.show) {\n        sideDrawer = React.createElement(\"div\", {\n          className: classes.SideDrawer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          onClick: this.createNewGroupHandler,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"Create a new group\"), React.createElement(\"form\", {\n          onSubmit: this.onCreateNewGroup,\n          style: {\n            display: this.state.showCreateForm ? 'block' : 'none'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          onChange: this.onChange,\n          type: \"text\",\n          name: \"groupName\",\n          placeholder: \"Enter group name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Add participants\"), this.state.potentialParticipants.map(function (pp, i) {\n          return React.createElement(\"span\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, \"Potential user\");\n        }), React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"Submit\")), React.createElement(\"div\", {\n          onClick: this.joinGroup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Join a group\"), React.createElement(\"div\", {\n          onClick: this.startNewChatHandler,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Start a new chat\"), React.createElement(\"form\", {\n          onSubmit: this.onStartNewChat,\n          style: {\n            display: this.state.showNewChatForm ? 'block' : 'none'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          onChange: this.onChange,\n          type: \"text\",\n          name: \"privateChatParticipant\",\n          placeholder: \"Who do you wanna chat with?\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Submit\")));\n      }\n\n      return sideDrawer;\n    }\n  }]);\n\n  return SideDrawer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    token: state.token,\n    user: state.userId\n  };\n};\n\nexport default connect(mapStateToProps)(SideDrawer);","map":{"version":3,"sources":["/Users/gotzil/Downloads/social-media/client/src/components/UI/SideDrawer/SideDrawer.js"],"names":["React","Component","classes","axios","connect","SideDrawer","state","showCreateForm","showNewChatForm","groupName","participants","potentialParticipants","privateChatParticipant","createNewGroupHandler","props","user","rooms","filter","u","isPrivate","setState","onChange","event","target","name","value","onCreateNewGroup","preventDefault","console","log","startNewChatHandler","onStartNewChat","get","headers","token","then","res","catch","err","sideDrawer","show","display","map","pp","i","joinGroup","mapStateToProps","userId"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'; \nimport classes from './SideDrawer.module.css';\nimport axios from '../../../Axios';\nimport { connect } from 'react-redux';\n\n\nclass SideDrawer extends Component {\n        state = {\n            showCreateForm: false,\n            showNewChatForm: false,\n            groupName: '',\n            participants: [],\n            potentialParticipants: [],\n            privateChatParticipant: ''\n        }\n        createNewGroupHandler = () => {\n            let potentialParticipants = this.props.user.rooms.filter(u => u.isPrivate);\n            this.setState({showCreateForm: true, potentialParticipants });\n        }\n        onChange = event => {\n            this.setState({[event.target.name]: event.target.value});\n        }\n        onCreateNewGroup = event => {\n            event.preventDefault();\n            console.log(event);\n        }\n        startNewChatHandler = () => {\n            this.setState({showNewChatForm: true});\n        }\n        onStartNewChat = event => {\n            event.preventDefault();\n            axios.get(`/search/${this.state.privateChatParticipant}`, {headers: {'x-auth-token': this.props.token}})\n            .then(res => {\n                console.log(this.props.user.rooms);\n            //     this.props.user.createRoom({\n            //     creatorId: this.props.userId,\n            //     name: this.state.privateChatParticipant,\n            //     isPrivate: true,\n            //     userIds: [this.state.privateChatParticipant],\n            //     customData: {displayImage: res.data.avatar}     \n            // })\n            })\n            .catch(err => console.log(err));\n        }\n    render (){\n    let sideDrawer = null;\n    if (this.props.show){\n        sideDrawer = (\n        <div className={classes.SideDrawer}>\n            <div onClick={this.createNewGroupHandler}>Create a new group</div>\n            <form onSubmit={this.onCreateNewGroup} style={{display: this.state.showCreateForm ? 'block' : 'none'}}>\n                <input onChange={this.onChange} type='text' name='groupName' placeholder='Enter group name' />\n                <h3>Add participants</h3>\n                {this.state.potentialParticipants.map((pp, i) => {\n                    return <span key={i}>Potential user</span>\n                })}\n                <button>Submit</button>\n            </form>\n            <div onClick={this.joinGroup}>Join a group</div>\n            <div onClick={this.startNewChatHandler}>Start a new chat</div>\n            <form onSubmit={this.onStartNewChat} style={{display: this.state.showNewChatForm ? 'block' : 'none'}}>\n                <input onChange={this.onChange} type='text' name='privateChatParticipant' placeholder='Who do you wanna chat with?' />\n                <button>Submit</button>\n            </form>\n        </div>\n        );\n    }\n    return sideDrawer;\n}\n}\nconst mapStateToProps = state => {\n    return {\n        token: state.token,\n        user: state.userId\n    }\n}\nexport default connect(mapStateToProps)(SideDrawer);"]},"metadata":{},"sourceType":"module"}